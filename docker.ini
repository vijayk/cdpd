[docker_install]
build_all = True

    [[build_command]]
        cmd1 = "docker build -t hdp-centos6:${IMAGE_TAG_VERSION} -f centos6/Dockerfile . " , centos6
        cmd2 = "docker build -t hdp-centos7:${IMAGE_TAG_VERSION} -f centos7/Dockerfile . " , centos7
        cmd3 = "docker build -t hdp-debian7:${IMAGE_TAG_VERSION} -f debian7/Dockerfile . " , debian7
        cmd4 = "docker build -t hdp-ubuntu12:${IMAGE_TAG_VERSION} -f ubuntu12/Dockerfile . " , ubuntu12

    [[publish_command]]
        cmd1 = "docker tag hdp-centos6:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/hortonworks/hdp-centos6:${IMAGE_TAG_VERSION}", centos6
        cmd2 = "docker push registry.eng.hortonworks.com/hortonworks/hdp-centos6:${IMAGE_TAG_VERSION}", centos6

        cmd3 = "docker tag hdp-centos7:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/hortonworks/hdp-centos7:${IMAGE_TAG_VERSION}", centos7
        cmd4 = "docker push registry.eng.hortonworks.com/hortonworks/hdp-centos7:${IMAGE_TAG_VERSION}", centos7

        cmd5 = "docker tag hdp-debian7:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/hortonworks/hdp-debian7:${IMAGE_TAG_VERSION}", debian7
        cmd6 = "docker push registry.eng.hortonworks.com/hortonworks/hdp-debian7:${IMAGE_TAG_VERSION}", debian7

        cmd7 = "docker tag hdp-ubuntu12:${IMAGE_TAG_VERSION} registry.eng.hortonworks.com/hortonworks/hdp-ubuntu12:${IMAGE_TAG_VERSION}", ubuntu12
        cmd8 = "docker push registry.eng.hortonworks.com/hortonworks/hdp-ubuntu12:${IMAGE_TAG_VERSION}", ubuntu12

    [[text-replace]]
        REPLACE_1 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos6/Dockerfile, regex_replace
        REPLACE_2 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos6/Dockerfile, regex_replace
        REPLACE_3 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos6/Dockerfile, regex_replace
        REPLACE_4 = 'REPLACE_BASE_IMAGE', REPLACE_BASE_IMAGE, centos6/Dockerfile, regex_replace